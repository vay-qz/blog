<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IDEA调优实战 | HOME</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.b7772529.css" as="style"><link rel="preload" href="/assets/js/app.9d904b3d.js" as="script"><link rel="preload" href="/assets/js/5.6fc37189.js" as="script"><link rel="prefetch" href="/assets/js/10.9013529b.js"><link rel="prefetch" href="/assets/js/11.869fab07.js"><link rel="prefetch" href="/assets/js/12.3f5f9871.js"><link rel="prefetch" href="/assets/js/13.6659e7d3.js"><link rel="prefetch" href="/assets/js/14.1d3506d2.js"><link rel="prefetch" href="/assets/js/15.3080db10.js"><link rel="prefetch" href="/assets/js/16.4fc57f88.js"><link rel="prefetch" href="/assets/js/17.da628472.js"><link rel="prefetch" href="/assets/js/18.39e95fc4.js"><link rel="prefetch" href="/assets/js/19.b288d28b.js"><link rel="prefetch" href="/assets/js/2.921b713c.js"><link rel="prefetch" href="/assets/js/20.41d0b1d4.js"><link rel="prefetch" href="/assets/js/21.e07d8119.js"><link rel="prefetch" href="/assets/js/22.fbdb04d1.js"><link rel="prefetch" href="/assets/js/23.11e9b6d7.js"><link rel="prefetch" href="/assets/js/24.195712b2.js"><link rel="prefetch" href="/assets/js/25.4cbdb8d4.js"><link rel="prefetch" href="/assets/js/26.e23dc3b4.js"><link rel="prefetch" href="/assets/js/27.0d8a5a1b.js"><link rel="prefetch" href="/assets/js/28.52693a31.js"><link rel="prefetch" href="/assets/js/29.9011c4b0.js"><link rel="prefetch" href="/assets/js/3.e3aace97.js"><link rel="prefetch" href="/assets/js/30.f56da937.js"><link rel="prefetch" href="/assets/js/31.3cccece4.js"><link rel="prefetch" href="/assets/js/32.57d6a71d.js"><link rel="prefetch" href="/assets/js/33.1221069e.js"><link rel="prefetch" href="/assets/js/34.da1f1c37.js"><link rel="prefetch" href="/assets/js/35.dbb58bf8.js"><link rel="prefetch" href="/assets/js/36.a5ab3b08.js"><link rel="prefetch" href="/assets/js/37.6416dd30.js"><link rel="prefetch" href="/assets/js/38.4983b3e1.js"><link rel="prefetch" href="/assets/js/39.13a3b5bd.js"><link rel="prefetch" href="/assets/js/4.4eb6808f.js"><link rel="prefetch" href="/assets/js/40.b680f394.js"><link rel="prefetch" href="/assets/js/41.49f96a1c.js"><link rel="prefetch" href="/assets/js/42.c92c60eb.js"><link rel="prefetch" href="/assets/js/43.a425f3b7.js"><link rel="prefetch" href="/assets/js/44.096a4db6.js"><link rel="prefetch" href="/assets/js/45.b06e8bd6.js"><link rel="prefetch" href="/assets/js/46.844e3c11.js"><link rel="prefetch" href="/assets/js/47.f4c02112.js"><link rel="prefetch" href="/assets/js/6.9e5db50c.js"><link rel="prefetch" href="/assets/js/7.015c0e7f.js"><link rel="prefetch" href="/assets/js/8.05b4ddad.js"><link rel="prefetch" href="/assets/js/9.43b0d755.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b7772529.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="HOME" class="logo"> <span class="site-name can-hide">HOME</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/catalog.html" class="nav-link">目录</a></div><div class="nav-item"><a href="https://github.com/vay-qz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/catalog.html" class="nav-link">目录</a></div><div class="nav-item"><a href="https://github.com/vay-qz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><h1 id="idea调优实战"><a href="#idea调优实战" aria-hidden="true" class="header-anchor">#</a> IDEA调优实战</h1> <p></p><div class="table-of-contents"><ul><li><a href="#调优开始">调优开始</a></li><li><a href="#成果">成果</a></li></ul></div><p></p> <p>最近学习了关于JVM的一些知识，一时技痒的我终于要对IDEA下手了</p> <p>那么调优究竟是调哪些方面呢？当然是哪块儿用着不顺调哪块儿了，目前来看IDEA貌似没什么用着不顺手的。。。那还是从启动速度和运行优化方面来调一调吧。</p> <h2 id="调优开始"><a href="#调优开始" aria-hidden="true" class="header-anchor">#</a> 调优开始</h2> <p>既然是启动速度方面的优化，那首先就是需要知道每次启动用了多长时间，那么对于同样是java程序的idea，启动时间分别消耗在了类的装载、卸载和gc上，对于这两块儿时间，可以分别使用<strong>jstat -class port</strong>和<strong>jstat -gc port</strong>查到</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>端口号可通过 <strong>jps -l</strong> 命令查询</p></div> <p>第一次启动：</p> <p><img src="data:image/png;base64,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" alt></p> <p>可以看到，类的装载卸载花费了大部分的时间，这些时间都是必要的，但是其中有一项<strong>字节码验证时间</strong>，由于idea已经是相当成熟的工具了，它的编译代码我们可以认为是可靠的，不需要再加载的时候再进行字节码验证，因此，我们可以通过参数**-Xverify:none**禁止掉字节码验证过程。</p> <p>出去类加载以外，垃圾回收共用了0.877s。其中full gc12次，耗时0.261s；minor gc75次，耗时0.616s。在短短的30s内，进行了如此多次的gc，推测大概率是初始堆内存不足以及新生代内存过小导致的，但是推测归推测，还是需要找到证据来验证我们的推测的。</p> <p>好在jdk中已经为我们预备了工具来检测，这个工具就是jvisualvm。在jdk的bin目录下打开这个工具，安装Visual GC插件，监控idea程序。</p> <p>jvisualvm图：</p> <p><img src="/assets/img/jvisualvm.0e11dc4b.png" alt></p> <p>可以看到，堆的大小是发生了改变了的，说明确实存在内存初始内存不足的现象。这个时候我们就需要将初始化内存写大一点来减少gc了，那么具体应该写多少呢？这种时候就需要gc日志的帮助了，打印gc日志通过添加以下两个参数来获取</p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code>-XX:+PrintGCTimeStamps 打印日志信息
-Xloggc:log_gc.log gc日志输出文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>gc日志：</p> <p><img src="/assets/img/gclog.19a4f80a.png" alt></p> <p>由gc日志可以看出最后的堆大小成长到了267200k，也就是260多M，所以我们初始化的堆内存设置为512M应该可以“包住”，而年轻代我们可以看到，每次回收后都会剩下大约167000k左右的内存不会被回收掉，所以年轻代我们可以设置成256M来减少minor gc的次数</p> <p>到这里为止，根据工具和日志的调整就已经告一段落了，当我们找到idea的虚拟机初始化参数进行更改时发现，idea使用的是CMS收集器，为了更好的性能，我们可以把其换成G1</p> <h2 id="成果"><a href="#成果" aria-hidden="true" class="header-anchor">#</a> 成果</h2> <p>至此，idea的调优就已经全部完成了，来看看我们的成功吧。</p> <p>启动参数：</p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code>-Xms1024m
-Xmx1024m
-Xmn512m
<span class="token constant">-XX:MetaspaceSize</span><span class="token attr-value"><span class="token punctuation">=</span>512m</span>
-Xverify:none
<span class="token constant">-XX:ReservedCodeCacheSize</span><span class="token attr-value"><span class="token punctuation">=</span>240m</span>
-XX:+UseG1GC
<span class="token constant">-XX:SoftRefLRUPolicyMSPerMB</span><span class="token attr-value"><span class="token punctuation">=</span>50</span>
-XX:+PrintGCTimeStamps
-Xloggc:log_gc.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>调优后启动时间</p> <p><img src="/assets/img/success.f22ea698.png" alt="1550236368595"></p> <p>可以看到，类加载的时间缩短了4s，垃圾收集其中full gc次数为0，minor gc次数为5，大大的减少了垃圾回收的时间</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.9d904b3d.js" defer></script><script src="/assets/js/5.6fc37189.js" defer></script>
  </body>
</html>
